<!DOCTYPE html>
<html lang="tk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bazar & Media | MEGA</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="me.jpg">

    <style>
        :root {
            --primary: #10b981;
            --glass: rgba(255, 255, 255, 0.95);
            --bg: #0f172a;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; transition: 0.3s; }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: radial-gradient(circle at top left, #064e3b, #0f172a);
            margin: 0; 
            padding: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            color: #1e293b;
            overflow-x: hidden;
        }

        .app-shell { width: 100%; max-width: 450px; padding: 20px 20px 100px 20px; }

        /* Sahypa Animasi√Ωasy */
        .page { display: none; animation: slideIn 0.4s ease-out; }
        .page.active { display: block; }
        @keyframes slideIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }

        /* Glassmorphism Card */
        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(15px);
            border-radius: 30px;
            padding: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.3);
            margin-bottom: 20px;
        }

        /* Nav Bar Style */
        .nav-bar {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: calc(100% - 40px); max-width: 380px;
            background: rgba(15, 23, 42, 0.9); backdrop-filter: blur(20px);
            border-radius: 25px; display: flex; justify-content: space-around;
            padding: 12px; border: 1px solid rgba(255,255,255,0.1); z-index: 1000;
        }
        .nav-item { color: #94a3b8; text-decoration: none; font-size: 11px; display: flex; flex-direction: column; align-items: center; gap: 4px; cursor: pointer; }
        .nav-item.active { color: var(--primary); }
        .nav-icon { font-size: 22px; }

        /* Input Styles */
        .input-box { background: #f8fafc; border-radius: 18px; padding: 12px 15px; margin-bottom: 12px; border: 1.5px solid #e2e8f0; }
        .input-box label { font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase; display: block; }
        .input-box input { width: 100%; border: none; background: transparent; font-size: 20px; font-weight: 700; outline: none; color: #1e293b; }

        /* News Cards */
        .news-card { background: white; border-radius: 22px; overflow: hidden; margin-bottom: 15px; border: 1px solid #e5e7eb; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        .news-tag { font-size: 9px; padding: 3px 10px; border-radius: 6px; color: white; font-weight: bold; }
        .audio-btn { width: 100%; background: #f1f5f9; border: none; padding: 12px; border-radius: 12px; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; }

        /* Buttons */
        .primary-btn { width: 100%; background: var(--primary); color: white; border: none; padding: 15px; border-radius: 18px; font-weight: bold; cursor: pointer; font-size: 16px; }
    </style>
</head>
<body>

    <div class="app-shell">
        
        <div id="bazar" class="page active">
            <h2 style="color: white; text-align: center; margin-bottom: 20px;">üìä Bazar Nyrhy</h2>
            <div class="glass-card">
                <div style="display: flex; gap: 8px; margin-bottom: 15px;">
                    <div style="flex:1"><label style="font-size:9px; color:#94a3b8">USD</label><input type="number" id="rUSD" value="19.50" oninput="calc('TMT')" style="width:100%; padding:8px; border-radius:10px; border:1px solid #ddd; text-align:center;"></div>
                    <div style="flex:1"><label style="font-size:9px; color:#94a3b8">RUB</label><input type="number" id="rRUB" value="0.21" oninput="calc('TMT')" style="width:100%; padding:8px; border-radius:10px; border:1px solid #ddd; text-align:center;"></div>
                    <div style="flex:1"><label style="font-size:9px; color:#94a3b8">TRY</label><input type="number" id="rTRY" value="0.65" oninput="calc('TMT')" style="width:100%; padding:8px; border-radius:10px; border:1px solid #ddd; text-align:center;"></div>
                </div>
                <div class="input-box"><label>üá∑üá∫ RUBL (‚ÇΩ)</label><input type="number" id="iRUB" placeholder="0" oninput="calc('RUB')"></div>
                <div class="input-box" style="border-color: var(--primary); background: #f0fdf4;"><label style="color: var(--primary);">üáπüá≤ MANAT (TMT)</label><input type="number" id="iTMT" placeholder="0" oninput="calc('TMT')"></div>
                <div class="input-box"><label>üá∫üá∏ DOLLAR ($)</label><input type="number" id="iUSD" placeholder="0" oninput="calc('USD')"></div>
                <div class="input-box"><label>üáπüá∑ LIRA (‚Ç∫)</label><input type="number" id="iTRY" placeholder="0" oninput="calc('TRY')"></div>
            </div>
        </div>

        <div id="media" class="page">
            <h2 style="color: white; text-align: center; margin-bottom: 20px;">üì∞ T√§zelikler</h2>
            <div id="news-container"></div>
        </div>

        <div id="profile" class="page">
            <div id="auth-section" class="glass-card">
                <h2>Agza bolu≈à</h2>
                <div class="input-box"><label>Ady≈àyz</label><input type="text" id="regName" placeholder="Meylis"></div>
                <div class="input-box"><label>Parol</label><input type="password" id="regPass" placeholder="**"></div>
                <button class="primary-btn" onclick="handleRegister()">Hasap d√∂ret</button>
            </div>

            <div id="user-profile" class="glass-card" style="display: none; text-align: center;">
                <img src="me.jpg" id="profImg" style="width: 100px; height: 100px; border-radius: 50%; border: 4px solid var(--primary); object-fit: cover;">
                <h2 id="displayUserName" style="margin: 15px 0 5px 0;">Ulanyjy</h2>
                <p style="color: #94a3b8; font-size: 14px; margin-bottom: 20px;">Online ‚Ä¢ Hasaby≈àyz i≈üje≈à</p>
                <button onclick="handleLogout()" style="width: 100%; background: #fee2e2; color: #ef4444; border: none; padding: 12px; border-radius: 15px; font-weight: bold; cursor: pointer;">√áyky≈ü et</button>
            </div>
        </div>

        <div class="nav-bar">
            <div class="nav-item active" onclick="showPage('bazar', this)"><span class="nav-icon">üìä</span><span>Bazar</span></div>
            <div class="nav-item" onclick="showPage('media', this)"><span class="nav-icon">üì∞</span><span>Media</span></div>
            <div class="nav-item" onclick="showPage('profile', this)"><span class="nav-icon">üë§</span><span>Profil</span></div>
        </div>
    </div>

    <script>
        // HABARLAR MAGLUMATY
        const newsData = [
            { cat: "T√úRKMENISTAN", title: "A≈ügabatda sanly bilim sistemasy", desc: "T√§ze okuw √Ωylynda mekdeplerde elektron ≈æurnallar we sanly kitaphanalar doly i≈üe girizildi.", color: "#10b981" },
            { cat: "D√úN√ù√Ñ", title: "Marsda √Ωa≈üa√Ωy≈ü g√∂zlegleri", desc: "Alymlar Marsy≈à a≈üaky gatlaklarynda do≈àan suw √ße≈ümelerini≈à bardygyny subut etdiler.", color: "#38bdf8" },
            { cat: "TEHNOLOGI√ùA", title: "Emeli Intellekt we Saglygy sakla√Ωy≈ü", desc: "T√§ze AI algoritmleri keselleri √∂≈à√ºnden anyklamakda 99% takyklyk g√∂rkezdi.", color: "#6366f1" }
        ];
        // SAHYPA √áAL≈ûYJY
        function showPage(id, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            el.classList.add('active');
            if(id === 'media') loadNews();
        }

        // HABARLARY √ù√úKLEMEK
        function loadNews() {
            const container = document.getElementById('news-container');
            container.innerHTML = newsData.map((n, i) => 
                <div class="news-card">
                    <div style="padding:15px">
                        <span class="news-tag" style="background:${n.color}">${n.cat}</span>
                        <h3 style="margin:10px 0; font-size:16px;">${n.title}</h3>
                        <p id="t-${i}" style="color:#64748b; font-size:13px; line-height:1.5;">${n.desc}</p>
                        <button class="audio-btn" onclick="speak('t-${i}')">üîä Di≈àle</button>
                    </div>
                </div>
            ).join('');
        }

        // SESLI OKAMA
        function speak(id) {
            const text = document.getElementById(id).innerText;
            const ut = new SpeechSynthesisUtterance(text);
            ut.lang = 'tr-TR';
            window.speechSynthesis.speak(ut);
        }

        // BAZAR HASAPLAMALARY
        function calc(type) {
            const rUSD = +document.getElementById('rUSD').value, rRUB = +document.getElementById('rRUB').value, rTRY = +document.getElementById('rTRY').value;
            const iUSD = document.getElementById('iUSD'), iRUB = document.getElementById('iRUB'), iTMT = document.getElementById('iTMT'), iTRY = document.getElementById('iTRY');
            let tmt = 0;
            if(type === 'TMT') tmt = +iTMT.value;
            else if(type === 'USD') tmt = +iUSD.value * rUSD;
            else if(type === 'RUB') tmt = +iRUB.value * rRUB;
            else if(type === 'TRY') tmt = +iTRY.value * rTRY;

            if(type !== 'TMT') iTMT.value = tmt ? tmt.toFixed(2) : "";
            if(type !== 'USD') iUSD.value = tmt ? (tmt / rUSD).toFixed(2) : "";
            if(type !== 'RUB') iRUB.value = tmt ? (tmt / rRUB).toFixed(2) : "";
            if(type !== 'TRY') iTRY.value = tmt ? (tmt / rTRY).toFixed(2) : "";
        }

        // REGISTRASI√ùA LOGIKASY
        function handleRegister() {
            const name = document.getElementById('regName').value;
            if (name) { localStorage.setItem('user', name); updateUI(); }
        }
        function handleLogout() { localStorage.removeItem('user'); updateUI(); }
        function updateUI() {
            const user = localStorage.getItem('user');
            document.getElementById('auth-section').style.display = user ? 'none' : 'block';
            document.getElementById('user-profile').style.display = user ? 'block' : 'none';
            if(user) document.getElementById('displayUserName').innerText = user;
        }

        window.onload = updateUI;
    </script>
</body>
</html>